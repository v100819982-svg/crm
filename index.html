<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ë–∏–∑–Ω–µ—Å –ü–æ–º–æ—â–Ω–∏–∫</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body>
    <div class="app">
        <!-- Header -->
        <header class="header">
            <div class="greeting">
                <h1>–ü—Ä–∏–≤–µ—Ç, <span id="userName">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</span>! üëã</h1>
                <p id="userServices">–í–∞—à–∏ —É—Å–ª—É–≥–∏</p>
                <button class="btn-secondary" onclick="syncWithBot()" style="margin-top: 10px; font-size: 12px;">
                    üîÑ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å –±–æ—Ç–æ–º
                </button>
            </div>
        </header>

        <!-- Navigation Tabs -->
        <nav class="nav-tabs">
            <button class="tab-btn active" data-tab="dashboard">
                <span class="tab-icon">üìä</span>
                <span class="tab-text">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</span>
            </button>
            <button class="tab-btn" data-tab="clients">
                <span class="tab-icon">üë•</span>
                <span class="tab-text">–ö–ª–∏–µ–Ω—Ç—ã</span>
            </button>
            <button class="tab-btn" data-tab="appointments">
                <span class="tab-icon">üìÖ</span>
                <span class="tab-text">–ó–∞–ø–∏—Å–∏</span>
            </button>
            <button class="tab-btn" data-tab="add">
                <span class="tab-icon">‚ûï</span>
                <span class="tab-text">–î–æ–±–∞–≤–∏—Ç—å</span>
            </button>
        </nav>

        <!-- Dashboard Tab -->
        <div class="tab-content active" id="dashboard">
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-icon">üí∞</div>
                    <div class="stat-info">
                        <h3 id="totalEarnings">0 ‚ÇΩ</h3>
                        <p>–û–±—â–∏–π –¥–æ—Ö–æ–¥</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">üë•</div>
                    <div class="stat-info">
                        <h3 id="totalClients">0</h3>
                        <p>–ö–ª–∏–µ–Ω—Ç–æ–≤</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">üìÖ</div>
                    <div class="stat-info">
                        <h3 id="todayAppointments">0</h3>
                        <p>–°–µ–≥–æ–¥–Ω—è</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">‚úÖ</div>
                    <div class="stat-info">
                        <h3 id="completedAppointments">0</h3>
                        <p>–í—ã–ø–æ–ª–Ω–µ–Ω–æ</p>
                    </div>
                </div>
            </div>

            <div class="chart-section">
                <h3>–î–æ—Ö–æ–¥—ã –ø–æ –¥–Ω—è–º</h3>
                <div class="chart-container">
                    <canvas id="earningsChart"></canvas>
                </div>
            </div>
        </div>

        <!-- Clients Tab -->
        <div class="tab-content" id="clients">
            <div class="section-header">
                <h2>–ú–æ–∏ –∫–ª–∏–µ–Ω—Ç—ã</h2>
                <button class="btn-primary" onclick="showAddClientModal()">
                    <span>‚ûï</span> –î–æ–±–∞–≤–∏—Ç—å –∫–ª–∏–µ–Ω—Ç–∞
                </button>
            </div>
            <div class="clients-list" id="clientsList">
                <!-- –ö–ª–∏–µ–Ω—Ç—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
            </div>
        </div>

        <!-- Appointments Tab -->
        <div class="tab-content" id="appointments">
            <div class="section-header">
                <h2>–ó–∞–ø–∏—Å–∏</h2>
                <div class="date-filter">
                    <input type="date" id="appointmentDate" onchange="filterAppointments()">
                </div>
            </div>
            <div class="appointments-list" id="appointmentsList">
                <!-- –ó–∞–ø–∏—Å–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
            </div>
        </div>

        <!-- Add Tab -->
        <div class="tab-content" id="add">
            <div class="add-section">
                <h2>–î–æ–±–∞–≤–∏—Ç—å –∑–∞–ø–∏—Å—å</h2>
                <form id="addAppointmentForm" class="form">
                    <div class="form-group">
                        <label>–ö–ª–∏–µ–Ω—Ç</label>
                        <select id="clientSelect" required>
                            <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –∫–ª–∏–µ–Ω—Ç–∞</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>–£—Å–ª—É–≥–∞</label>
                        <div class="service-input-container">
                            <select id="serviceSelect" required>
                                <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —É—Å–ª—É–≥—É</option>
                            </select>
                            <div class="custom-service-input" style="display: none;">
                                <input type="text" id="customService" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —É—Å–ª—É–≥–∏">
                            </div>
                            <button type="button" class="btn-secondary" id="addCustomService" style="margin-top: 8px; font-size: 12px;">
                                + –î–æ–±–∞–≤–∏—Ç—å —Å–≤–æ—é —É—Å–ª—É–≥—É
                            </button>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>–î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è</label>
                        <input type="datetime-local" id="appointmentDateTime" required>
                    </div>
                    <div class="form-group">
                        <label>–°—Ç–æ–∏–º–æ—Å—Ç—å (‚ÇΩ)</label>
                        <input type="number" id="appointmentPrice" required min="0">
                    </div>
                    <button type="submit" class="btn-primary">–î–æ–±–∞–≤–∏—Ç—å –∑–∞–ø–∏—Å—å</button>
                </form>
            </div>
        </div>
    </div>

    <!-- Modal –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∫–ª–∏–µ–Ω—Ç–∞ -->
    <div class="modal" id="addClientModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>–î–æ–±–∞–≤–∏—Ç—å –∫–ª–∏–µ–Ω—Ç–∞</h3>
                <button class="close-btn" onclick="closeAddClientModal()">&times;</button>
            </div>
            <form id="addClientForm" class="form">
                <div class="form-group">
                    <label>–ò–º—è –∫–ª–∏–µ–Ω—Ç–∞ *</label>
                    <input type="text" id="clientName" required>
                </div>
                <div class="form-group">
                    <label>–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞</label>
                    <input type="tel" id="clientPhone">
                </div>
                <div class="form-group">
                    <label>Telegram (@username)</label>
                    <input type="text" id="clientTelegram" placeholder="@username">
                </div>
                <div class="form-group">
                    <label>–û—Å–Ω–æ–≤–Ω–∞—è —É—Å–ª—É–≥–∞</label>
                    <div class="service-input-container">
                        <select id="clientService">
                            <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —É—Å–ª—É–≥—É</option>
                        </select>
                        <div class="custom-service-input" style="display: none;">
                            <input type="text" id="customService" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —É—Å–ª—É–≥–∏">
                        </div>
                        <button type="button" class="btn-secondary" id="addCustomService" style="margin-top: 8px; font-size: 12px;">
                            + –î–æ–±–∞–≤–∏—Ç—å —Å–≤–æ—é —É—Å–ª—É–≥—É
                        </button>
                    </div>
                </div>
                <div class="form-group">
                    <label>–°—Ç–∞—Ç—É—Å</label>
                    <select id="clientStatus">
                        <option value="new">üÜï –ù–æ–≤—ã–π –∫–ª–∏–µ–Ω—Ç</option>
                        <option value="regular">‚≠ê –ü–æ—Å—Ç–æ—è–Ω–Ω—ã–π –∫–ª–∏–µ–Ω—Ç</option>
                        <option value="vip">üíé VIP –∫–ª–∏–µ–Ω—Ç</option>
                        <option value="inactive">üò¥ –ù–µ–∞–∫—Ç–∏–≤–Ω—ã–π</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>–ò—Å—Ç–æ—á–Ω–∏–∫ –∫–ª–∏–µ–Ω—Ç–∞</label>
                    <select id="clientSource">
                        <option value="telegram">üì± Telegram</option>
                        <option value="instagram">üì∏ Instagram</option>
                        <option value="recommendation">üë• –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è</option>
                        <option value="advertising">üì¢ –†–µ–∫–ª–∞–º–∞</option>
                        <option value="website">üåê –°–∞–π—Ç</option>
                        <option value="other">‚ùì –î—Ä—É–≥–æ–µ</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏</label>
                    <textarea id="clientComments" rows="3" placeholder="–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–ª–∏–µ–Ω—Ç–µ..."></textarea>
                </div>
                <div class="form-actions">
                    <button type="button" class="btn-secondary" onclick="closeAddClientModal()">–û—Ç–º–µ–Ω–∞</button>
                    <button type="submit" class="btn-primary">–î–æ–±–∞–≤–∏—Ç—å</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫–ª–∏–µ–Ω—Ç–∞ -->
    <div class="modal" id="editClientModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–ª–∏–µ–Ω—Ç–∞</h3>
                <button class="close-btn" onclick="closeEditClientModal()">&times;</button>
            </div>
            <form id="editClientForm" class="form">
                <input type="hidden" id="editClientId">
                <div class="form-group">
                    <label>–ò–º—è –∫–ª–∏–µ–Ω—Ç–∞ *</label>
                    <input type="text" id="editClientName" required>
                </div>
                <div class="form-group">
                    <label>–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞</label>
                    <input type="tel" id="editClientPhone">
                </div>
                <div class="form-group">
                    <label>Telegram (@username)</label>
                    <input type="text" id="editClientTelegram" placeholder="@username">
                </div>
                <div class="form-group">
                    <label>–£—Å–ª—É–≥–∞ *</label>
                    <div class="service-input-container">
                        <select id="editClientService" required>
                            <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —É—Å–ª—É–≥—É</option>
                        </select>
                        <div class="custom-service-input" style="display: none;">
                            <input type="text" id="editCustomService" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —É—Å–ª—É–≥–∏">
                        </div>
                        <button type="button" class="btn-secondary" id="editAddCustomService" style="margin-top: 8px; font-size: 12px;">
                            + –î–æ–±–∞–≤–∏—Ç—å —Å–≤–æ—é —É—Å–ª—É–≥—É
                        </button>
                    </div>
                </div>
                <div class="form-group">
                    <label>–î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è *</label>
                    <input type="datetime-local" id="editAppointmentDateTime" required>
                </div>
                <div class="form-group">
                    <label>–°—É–º–º–∞ –∫ –æ–ø–ª–∞—Ç–µ *</label>
                    <input type="number" id="editAppointmentPrice" required min="0" placeholder="0">
                </div>
                <div class="form-group">
                    <label>–°—Ç–∞—Ç—É—Å</label>
                    <select id="editClientStatus">
                        <option value="new">üÜï –ù–æ–≤—ã–π –∫–ª–∏–µ–Ω—Ç</option>
                        <option value="regular">‚≠ê –ü–æ—Å—Ç–æ—è–Ω–Ω—ã–π –∫–ª–∏–µ–Ω—Ç</option>
                        <option value="vip">üíé VIP –∫–ª–∏–µ–Ω—Ç</option>
                        <option value="inactive">üò¥ –ù–µ–∞–∫—Ç–∏–≤–Ω—ã–π</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>–ò—Å—Ç–æ—á–Ω–∏–∫ –∫–ª–∏–µ–Ω—Ç–∞</label>
                    <select id="editClientSource">
                        <option value="telegram">üì± Telegram</option>
                        <option value="instagram">üì∏ Instagram</option>
                        <option value="recommendation">üë• –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è</option>
                        <option value="advertising">üì¢ –†–µ–∫–ª–∞–º–∞</option>
                        <option value="website">üåê –°–∞–π—Ç</option>
                        <option value="other">‚ùì –î—Ä—É–≥–æ–µ</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏</label>
                    <textarea id="editClientComments" rows="3" placeholder="–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–ª–∏–µ–Ω—Ç–µ..."></textarea>
                </div>
                <div class="form-actions">
                    <button type="button" class="btn-secondary" onclick="closeEditClientModal()">–û—Ç–º–µ–Ω–∞</button>
                    <button type="submit" class="btn-primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                </div>
            </form>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="script.js"></script>
</body>
</html>